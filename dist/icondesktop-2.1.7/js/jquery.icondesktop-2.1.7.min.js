(function(a){if(typeof define==="function"&&define.amd){define(["jquery"],a)}else{a(jQuery)}}(function(aZ){aZ.fn.icondesktop=function(bi){var bh={desktopPadding:20,desktopHorizontalPadding:0,desktopVerticalPadding:0,desktopAutoFill:true,pageHeight:50,closeBoxColor:"#8e8e8e",closeBoxBackgroundImage:"img/iconbox.png",closeBoxWidth:128,closeBoxHeight:0,closeBoxPadding:10,closeBoxMargin:30,closeBoxHorizontalMargin:0,closeBoxVerticalMargin:0,closeBoxEnlargeScale:0.05,closeBoxTitleHeight:30,closeBoxTitleFontSize:14,thumbnailWidth:30,thumbnailHeight:0,openBoxColor:"#3C3C3C",openBoxTitleHeight:40,openBoxTitleFontSize:18,openBoxMarginTop:80,openBoxMarginLeft:40,openBoxMarginRight:40,openBoxMarginBottom:40,openBoxPadding:30,openBoxIconMargin:20,maxChineseCharLength:7,ellipticalChars:"...",ableEditTitle:false,ableChecked:false,ableDel:false,ableDrag:true,mouseDownIconDuration:500,toastTime:3000,resizeTimeout:1000,ignoreDistance:10,newGroupName:"新分组",openBoxIconClick:function(bm){},menus:[{title:"刷新",extraClass:"",doClick:function(){bk.refreshDesktop()}}],data:[{title:"图标1",extraClass:"",size:"1x1",children:[{title:"电子邮件",extraClass:"rockicon",superscript:1,img:"img/email.png"}]},{title:"图标2",extraClass:"",size:"1x1",children:[{title:"电子邮件",extraClass:"rockicon",img:"img/email.png"}]}]};var bj=aZ.extend(bh,bi);if(!bj.desktopHorizontalPadding){bj.desktopHorizontalPadding=bj.desktopPadding}if(!bj.desktopVerticalPadding){bj.desktopVerticalPadding=bj.desktopPadding}if(!bj.closeBoxHeight){bj.closeBoxHeight=bj.closeBoxWidth}if(!bj.thumbnailHeight){bj.thumbnailHeight=bj.thumbnailWidth}if(!bj.closeBoxHorizontalMargin){bj.closeBoxHorizontalMargin=bj.closeBoxMargin}if(!bj.closeBoxVerticalMargin){bj.closeBoxVerticalMargin=bj.closeBoxMargin}this.each(function(){var bq=aZ(this);az(aZ(this),bj);aZ(this).off("resize").on("resize",function(){if(bj.resizetimeout){clearTimeout(bj.resizetimeout)}bj.resizetimeout=setTimeout(function(){aa(bq,bj)},bj.resizeTimeout)});aZ(this).off("click").on("click",function(bs){aF(bq)});aZ(this).off("click",".icondesktop-pageitem").on("click",".icondesktop-pageitem",function(){var bs=aZ(this).index();g(aZ(this).parents(".icondesktop"),bs,bj.width,bj.pages,bj)});var bp;var bm=false;var br=100;aZ(this).off("mousedown").on("mousedown",function(bs){bm=true;bp=bs.pageX;bs.preventDefault();bs.stopPropagation()});aZ(this).off("mousemove").on("mousemove",function(bt){if(bn){bn.returnValue=false}bt.preventDefault();bt.stopPropagation();if(bm){var bs=bt.pageX;if(bs-bp>br){g(aZ(this),bj.currentPageIndex-1,bj.width,bj.pages,bj);bm=false}else{if(bs-bp<-br){g(aZ(this),bj.currentPageIndex+1,bj.width,bj.pages,bj);bm=false}}}else{if(bj.ableDrag&&bj.moveObj){aE(bj,bt)}}});aZ(this).off("mouseup").on("mouseup",function(bs){bm=false;bs.preventDefault();bs.stopPropagation();if(bj.ableDrag&&bj.moveObj){a8(bj)}});var bo;aZ(this).off("mousedown",".iconbox__open .iconbox-area__container").on("mousedown",".iconbox__open .iconbox-area__container",function(bs){bm=true;bo=bs.pageY;bs.preventDefault();bs.stopPropagation();bj.pressBoxContainerTime=new Date().getTime()});aZ(this).off("mousemove",".iconbox__open .iconbox-area__container").on("mousemove",".iconbox__open .iconbox-area__container",function(bv){if(bn){bn.returnValue=false}bv.preventDefault();bv.stopPropagation();if(bm){var bs=bv.pageY;var bt=bs-bo;var bu=aZ(this).scrollTop();aZ(this).scrollTop(bu-bt>0?bu-bt:0);bo=bs;bj.slideInboxContainerFinishTime=new Date().getTime();bj.moveIconObj.finishTime=bj.slideInboxContainerFinishTime}});aZ(this).off("mouseup",".iconbox__open .iconbox-area__container").on("mouseup",".iconbox__open .iconbox-area__container",function(bt){bm=false;var bs=new Date().getTime();if(bs-bj.pressBoxContainerTime>500||bs-bj.slideInboxContainerFinishTime<bj.moveIconObj.openPeriod){bj.moveIconObj.finishTime=new Date().getTime()}});aZ(this).off("mouseleave",".iconbox__open .iconbox-area__container").on("mouseleave",".iconbox__open .iconbox-area__container",function(bs){bm=false});aZ(this).off("click",".iconbox").on("click",".iconbox",function(){var bt=aZ(this);var bs=new Date().getTime();if(bs-bj.moveIconObj.finishTime<bj.moveIconObj.openPeriod){return false}if(bj.ableClickBox){bj.ableClickBox=false}else{return false}if(bt.hasClass("iconbox__close")){ad(bt,bj)}else{aC(bt,bj)}});var bn=window.event||"";aZ(this).off("click",".iconbox-a").on("click",".iconbox-a",function(bs){if(aZ(this).parents(".iconbox").hasClass("iconbox__open")){bs.stopPropagation()}});aZ(this).off("mousedown",".iconbox-tool img").on("mousedown",".iconbox-tool img",function(bs){if(bn){bn.returnValue=false}bs.preventDefault()});aZ(this).off("mousedown",".iconbox-tool input,.iconbox-tool textarea").on("mousedown",".iconbox-tool input,.iconbox-tool textarea",function(bs){bs.stopPropagation()});aZ(this).off("mousedown",".iconbox-tool > *").on("mousedown",".iconbox-tool > *",function(bt){if(this.tagName==="INPUT"||this.tagName==="TEXTAREA"){}else{var bs=aZ(this);bj.pressToolTime=new Date().getTime();bj.pressToolTimeout=setTimeout(function(){bs.blur();
bs.parent().trigger("mousedown")},500)}bt.stopPropagation()});aZ(this).off("mouseup",".iconbox-tool > *").on("mouseup",".iconbox-tool > *",function(bs){if(bj.pressToolTimeout){clearTimeout(bj.pressToolTimeout);bj.pressToolTimeout=null}});this.onselectstart=function(){return false};aZ(this).off("mousedown",".iconbox-icontitleinput").on("mousedown",".iconbox-icontitleinput",function(bs){if(bj.ableEditTitle){bs.stopPropagation()}});aZ(this).off("mouseup",".iconbox-icontitleinput").on("mouseup",".iconbox-icontitleinput",function(bs){if(bj.ableEditTitle){bs.stopPropagation()}});aZ(this).off("click",".iconbox-title").on("click",".iconbox-title",function(bt){if(bj.ableEditTitle){bt.stopPropagation();var bs=aZ(this).siblings(".iconbox-icontitleinput").show().focus().select();if(!aZ(this).parent().hasClass("iconbox__open")){bs.css({"top":"","bottom":-bj.closeBoxTitleHeight+"px"})}else{bs.css({"top":bj.openBoxPadding+"px","bottom":""})}}});aZ(this).off("click",".iconbox-titleinput").on("click",".iconbox-titleinput",function(bs){if(bj.ableEditTitle){bs.stopPropagation()}});aZ(this).off("blur",".iconbox-icontitleinput").on("blur",".iconbox-icontitleinput",function(bs){a7(aZ(this),bj,bs)});aZ(this).off("keydown",".iconbox-icontitleinput").on("keydown",".iconbox-icontitleinput",function(bs){if(bs.keyCode==13){a7(aZ(this),bj,bs)}});aZ(this).off("mousedown",".icondesktopbox").on("mousedown",".icondesktopbox",function(bt){var bs=aZ(this);bj.moveObj=bs;bt.preventDefault();bt.stopPropagation();if(!bs.hasClass("iconbox__open")&&bj.ableDrag){ai(bs,bj,bt)}});aZ(this).off("mousedown",".iconinbox").on("mousedown",".iconinbox",function(bu){var bt=aZ(this);bj.moveObj=bt;var bs=bt.parents(".icondesktopbox");bu.preventDefault();if(bs.hasClass("iconbox__close")){return}bu.stopPropagation();if(bs.hasClass("iconbox__open")&&bj.ableDrag){ai(bt,bj,bu)}});aZ(this).off("mouseleave").on("mouseleave",function(bt){bt.preventDefault();bt.stopPropagation();var bs=aZ(this);if(bj.ableDrag&&bj.moveObj){a8(bj)}});this.oncontextmenu=function(bs){var bs=bs||window.event;bq.find(".icondesktop-menu").css({"left":bs.offsetX+"px","top":bs.offsetY+"px"}).show();return false}});var bl=aZ(this);var bk={getCheckedData:function(){var bq=[];if(!bj.ableChecked){return bq}for(var bp=0;bp<bj.data.length;bp++){var bo=bj.data[bp];if(bo.img){if(bo.checked){bq.push(bo)}}else{if(bo.type==="tool"){}else{for(var bn=0;bn<bo.children.length;bn++){var bm=bo.children[bn];if(bm.checked){bq.push(bm)}}}}}return bq},getData:function(){var bm=jQuery.extend(true,[],bj.data);return bm},refreshIcon:function(){aa(bl,bj)},refreshDesktop:function(){aJ(null,bj,true)},addIcons:function(bn,bm){a9(bl,bj,bn,bm)},switchState:function(bm){if(typeof bj[bm]!="undefined"){bj[bm]=!bj[bm]}if(bm=="ableEditTitle"){if(!bj[bm]){bl.find(".iconbox-icontitleinput").hide()}}else{if(bm=="ableChecked"){aI(bl,bj[bm],"checkbox")}else{if(bm=="ableDel"){aI(bl,bj[bm],"delbtn")}}}},getIconData:function(bq){var br=[];for(var bo=0;bo<bj.data.length;bo++){var bn=bj.data[bo];if(bn.children&&bn.children.length){for(var bm=0;bm<bn.children.length;bm++){var bp=bn.children[bm];if(aU(bp,bq)){br.push(bp)}}}else{if(aU(bn,bq)){br.push(bn)}}}return br},showToast:function(bm,bp){var bo=bl.find(".icondesktop-toast");bo.children(".icondesktop-toast__container").text(bm);var bn=bo.show().outerWidth();bo.hide();bo.css("marginLeft",-Math.floor(bn/2)+"px");bo.fadeIn();if(bj.toastTime){clearTimeout(bj.toastTimeout)}bj.toastTimeout=setTimeout(function(){bo.fadeOut()},bp||bj.toastTime)}};return bk};function I(bm,bj){bj.desktopWidth=bm.width();bj.desktopHeight=bm.height();bj.sourceData=bj.data;bj.locationObj={};bj.locationBoxObj={};bj.closeBoxEnlargeWidth=bj.closeBoxWidth*bj.closeBoxEnlargeScale;bj.closeBoxEnlargeHeight=bj.closeBoxHeight*bj.closeBoxEnlargeScale;bj.$closeBoxBackground=aZ('<img src="'+bj.closeBoxBackgroundImage+'" class="iconbox-bg" width="'+bj.closeBoxWidth+'" height="'+bj.closeBoxHeight+'" style="display: none;">');d(bm,bj);n(bm,bj);if(bj.pageSize==0){return}bj.currentPageIndex=0;var bn=(bj.closeBoxWidth-bj.closeBoxPadding*2-bj.thumbnailWidth*3)/2;var bl=(bj.closeBoxHeight-bj.closeBoxPadding*2-bj.thumbnailHeight*3)/2;bj.horIconInCloseBoxMargin=bn;bj.verIconInCloseBoxMargin=bl;var bi={mouseDownIconCurrentPoint:{},mouseDownIconPrevPoint:{},finishTime:0,openPeriod:100,$empty:aZ(""),isSuspended:false};bi.$prevIconBelow=bi.$empty;bj.moveIconObj=bi;var bh=6;bj.otherThingNumInBox=bh;var bk=8;bj.maxShowIconInBox=bk;bj.ableClickBox=true;bj.openBox={};bj.locationDom={};bj.moveLocations=[];bj.moveLocationMaxLength=3}function w(bk,bl,bq,bj){var bo=aZ(document.createElement("a"));bo.addClass("iconbox-a");if(!bj){bo.addClass("icondesktopbox");al(bo,bq,bk,"set")}else{bo.addClass("iconinbox");al(bo,bq,bk)}var bi=aZ(document.createElement("label"));bi.addClass("iconbox-icontitle");ae(bi,bq.title,bk.maxChineseCharLength,bk.ellipticalChars);var br=aZ(document.createElement("img"));br.addClass("iconbox-img");br.attr("src",bq.img);if(bq.extraClass){br.addClass(bq.extraClass)
}var bp=aZ('<a class="iconbox-superscript iconbox-superscript__children"></a>');bo.append(bp);aD(bo,bk,bq);var bn=aZ('<a class="iconbox-delbtn iconbox-delbtn__children"></a>');bo.append(bn);G(bn,bk);if(!bk.ableDel||bj){bn.hide()}var bm=aZ('<a class="iconbox-checkbox iconbox-checkbox__children"></a>');bo.append(bm);ax(bm,bq,bj);if(bq.checked){aS(bm,2);if(bl){bl.size++}}else{aS(bm,0)}if(!bk.ableChecked||bj){bm.hide()}v(bo,bq,bk);bo.append(br);bo.append(bi);var bh=aZ('<input type="text" class="iconbox-icontitleinput" value="'+bq.title+'">');bo.append(bh);ac(bi,bk);aX(bh,bk);return bo}function D(bk,bj){var bi=aZ(document.createElement("div"));bi.addClass("iconbox iconbox__close icondesktopbox");if(bj.extraClass){bi.addClass(bj.extraClass)}var br=aZ(document.createElement("label"));br.addClass("iconbox-title");ae(br,bj.title,bk.maxChineseCharLength,bk.ellipticalChars);bi.append(br);var bh=aZ('<input type="text" class="iconbox-icontitleinput iconbox-titleinput" value="'+bj.title+'">');bi.append(bh);var bn=aZ('<img src="'+bk.closeBoxBackgroundImage+'" width="100%" height="100%" class="iconbox-bg">');bi.append(bn);var bu=aZ('<div class="iconbox-area">'+'<div class="iconbox-area__part iconbox-area__topleft"></div><div class="iconbox-area__part iconbox-area__top"></div>'+'<div class="iconbox-area__part iconbox-area__topright"></div><div class="iconbox-area__part iconbox-area__left"></div>'+'<div class="iconbox-area__part iconbox-area__right"></div><div class="iconbox-area__part iconbox-area__bottomleft"></div>'+'<div class="iconbox-area__part iconbox-area__bottom"></div><div class="iconbox-area__part iconbox-area__bottomright"></div>'+'<div class="iconbox-scrollbar"></div>'+"</div>");bi.append(bu);var bm=aZ('<div class="iconbox-area__container"></div>');bc(bm,bk);bu.append(bm);var bo={size:0};for(var bp=0;bp<bj.children.length;bp++){dataIcon=bj.children[bp];var bs=w(bk,bo,dataIcon,bj);bm.append(bs)}var bl=aZ('<a class="iconbox-checkbox iconbox-checkbox__parent"></a>');bi.prepend(bl);ax(bl,bj);if(bo.size==bj.children.length){aS(bl,2)}else{if(bo.size>0){aS(bl,1)}}if(!bk.ableChecked){bl.hide()}var bq=aZ('<a class="iconbox-delbtn iconbox-delbtn__parent"></a>');bi.prepend(bq);G(bq,bk);if(!bk.ableDel){bq.hide()}var bt=aZ('<a class="iconbox-superscript iconbox-superscript__parent"></a>');bi.prepend(bt);ab(bi,bk,bj);bi.find(".iconbox-superscript__children").hide();al(bi,bj,bk,"set");return bi}function k(bi,bh){if(!bh.location){return aZ("")}var bk=aZ(bh.content);var bj=aR(bi,bh);bk.addClass("icondesktopbox iconbox-tool");bk.css({"position":"absolute","width":bj.width+"px","height":bj.height+"px"});al(bk,bh,bi,"set");return bk}function aR(bk,bi){var bm=be(bi.size);var bl=(bk.closeBoxWidth+bk.closeBoxRealHorizontalMargin)*bm.col-bk.closeBoxRealHorizontalMargin;var bh=(bk.closeBoxHeight+bk.closeBoxTitleHeight+bk.closeBoxRealVerticalMargin)*bm.row-bk.closeBoxRealVerticalMargin;var bj=bi.borderWidth;if(bj){bl-=bj*2;bh-=bj*2}return{width:bl,height:bh}}function a3(by,bj){by.empty();if(bj.pageSize==0){return}var bt=aZ(document.createElement("div"));bt.addClass("icondesktop-slidebox");var bz=aZ(document.createElement("div"));bz.addClass("icondesktop-pagination");var bp=aZ(document.createElement("div"));bp.addClass("icondesktop-pagebox");bz.append(bp);var bs=-1;for(var bw=0;bw<bj.data.length;bw++){var bu=bj.data[bw];var bl=s(bu.location);if(!bl){continue}if(bu.type=="tool"){var bo=k(bj,bu);bt.append(bo)}else{if(bu.img){dataIcon=bu;var bi=w(bj,null,dataIcon);bt.append(bi)}else{var bx=D(bj,bu);bt.append(bx)}}}for(var bw=0;bw<bj.pages;bw++){var bn=bb(bp);if(bw===0){bn.addClass("icondesktop-pageitem__active")}}by.append(bz);by.append(bt);by.find(".icondesktop-slidebox").append(bj.$closeBoxBackground);var bm=aZ('<div class="icondesktop-menu"></div>');var bq=aZ('<dl class="icondesktop-menulist"></dl>');for(var bw=0;bw<bj.menus.length;bw++){var bk=bj.menus[bw];var bv=bk.extraClass?(" "+bk.extraClass):"";var br=aZ('<dd class="icondesktop-menuitem'+bv+'">'+bk.title+"</dd>");o(br,bk.doClick);bq.append(br)}bm.append(bq);bm.hide();by.append(bm);var bh=aZ('<div class="icondesktop-toast">'+'<div class="icondesktop-toast__size icondesktop-toast__topleft"></div>'+'<div class="icondesktop-toast__size icondesktop-toast__topright"></div>'+'<div class="icondesktop-toast__size icondesktop-toast__bottomleft"></div>'+'<div class="icondesktop-toast__size icondesktop-toast__bottomright"></div>'+'<div class="icondesktop-toast__line icondesktop-toast__top"></div>'+'<div class="icondesktop-toast__line icondesktop-toast__bottom"></div>'+'<div class="icondesktop-toast__line icondesktop-toast__left"></div>'+'<div class="icondesktop-toast__line icondesktop-toast__right"></div>'+'<div class="icondesktop-toast__line icondesktop-toast__container"></div>'+"</div>").hide();by.append(bh)}function C(bi,bh){bi.find(".icondesktop-pagination").height(bh.pageHeight).css({"bottom":"0px"});bi.css({"backgroundColor":bh.closeBoxColor});aj(bi.find(".iconbox"),bh);Q(bi,bh);bi.find(".iconbox-a.icondesktopbox").css({"width":bh.closeBoxWidth+"px","height":bh.closeBoxHeight+"px"});
bi.find(".icondesktop-slidebox").width(bh.width*bh.pages)}function aj(bi,bh){if(bi.hasClass("iconbox__close")){bi.css({"width":bh.closeBoxWidth+"px","height":bh.closeBoxHeight+"px"});bi.find(".iconbox-area__container").scrollTop(0);bi.each(function(bk,bl){var bj=j(aZ(bl).attr("location"),bh.data,bh.locationObj);a0(bj,bh)})}else{if(bi.hasClass(".iconbox__open")){}}}function Q(bh,bi){bh.find(".iconbox-title,.iconbox-icontitle,.iconbox-icontitleinput").css({"height":bi.closeBoxTitleHeight,"lineHeight":bi.closeBoxTitleHeight+"px","fontSize":bi.closeBoxTitleFontSize+"px","bottom":-bi.closeBoxTitleHeight+"px","position":"absolute","left":0,"display":""})}function a0(bi,bm,bn){var bo=bi.$dom;var bj=bo.find(".iconbox-a");if(bn){for(var bl=0;bl<bi.children.length;bl++){var bk=bi.children[bl];var bh=aM(bl,bm);if(bl>bm.maxShowIconInBox){bh.top+=bm.thumbnailHeight}bk.$dom.animate({"left":bh.left+"px","top":bh.top+"px","width":bm.thumbnailWidth+"px","height":bm.thumbnailHeight+"px"})}}else{for(var bl=0;bl<bi.children.length;bl++){var bk=bi.children[bl];var bh=aM(bl,bm);if(bl>bm.maxShowIconInBox){bh.top+=bm.thumbnailHeight}bk.$dom.css({"left":bh.left+"px","top":bh.top+"px","width":bm.thumbnailWidth+"px","height":bm.thumbnailHeight+"px"})}}}function aM(bh,bi){return{"left":Math.floor(bh%3)*(bi.thumbnailWidth+bi.horIconInCloseBoxMargin)+bi.closeBoxPadding,"top":Math.floor(bh/3)*(bi.thumbnailHeight+bi.verIconInCloseBoxMargin)+bi.closeBoxPadding}}function g(bl,bi,bk,bh,bj){if(bi<0||bi>=bh){return false}bj.currentPageIndex=bi;bl.find(".icondesktop-slidebox").animate({"marginLeft":-bi*bk+"px"});bl.find(".icondesktop-pageitem").eq(bi).addClass("icondesktop-pageitem__active").siblings().removeClass("icondesktop-pageitem__active");return true}function aS(bi,bh){if(bh==0){bi.removeClass("iconbox-checkbox__checksome").removeClass("iconbox-checkbox__checked")}else{if(bh==1){bi.addClass("iconbox-checkbox__checksome").removeClass("iconbox-checkbox__checked")}else{if(bh==2){bi.addClass("iconbox-checkbox__checked").removeClass("iconbox-checkbox__checksome")}}}}function aP(bk){var bi=bk.replace(/^\s*/g,"").replace(/\s*$/g,"");var bl=bi.replace(/[^\x00-\xff]/g,"");var bj=bi.length-bl.length;var bh=bj+bl.length/20*11;return bh}function aY(bh,bn,bm,bl){var bk="";var bj=aP(bn);var bi=Math.ceil(aP(bl));if(bj>bm){bk=bn.substring(0,bm-bi)+bl}return bk}function ae(bh,bl,bk,bj){var bi=aY(bh,bl,bk,bj);if(bi){bh.attr({"title":bl,"shortTitle":bi});if(bh.parent().hasClass("iconbox__open")){bh.text(bl)}else{bh.text(bi)}}else{bh.text(bl)}}function a7(bk,bh,bj){if(bh.ableEditTitle){if(bj){bj.stopPropagation()}var bl=bk.val();var bm=bk.siblings(".iconbox-icontitle,.iconbox-title");ae(bm,bl,bh.maxChineseCharLength,bh.ellipticalChars);bk.hide();var bi=a1(bk.parent(),bh);bi.title=bl}}function ai(bj,bh,bi){bj.attr({"isMouseDownIcon":true});bh.moveIconObj.mouseDownIconPrevPoint.x=Math.floor(bi.pageX);bh.moveIconObj.mouseDownIconPrevPoint.y=Math.floor(bi.pageY);bh.moveIconObj.timeout=setTimeout(function(){var bn=aZ(bj.clone());bh.moveIconObj.$flagDom=bn;bh.flagObj=bn;var bm=parseInt(bj.css("left"));var bl=parseInt(bj.css("top"));var bo=parseInt(bj.css("width"));var bp=parseInt(bj.css("height"));var bk=aT(bj,bm,bl,bh);bm=bk.left;bl=bk.top;bj.css({"opacity":0.3,"cursor":"move"});bn.css({"left":bm+"px","top":bl+"px","zIndex":10,"cursor":"move"}).find(".iconinbox").css({"cursor":"move"});bj.parents(".icondesktop-slidebox").append(bn);bj.attr({"isMouseDownMove":true});bn.attr({"prevLeft":bm+"px","prevTop":bl+"px","prevWidth":bo+"px","prevHeight":bp+"px"});if(bj.hasClass("iconbox-a")){V(bn,bm,bl,bo,bp,bh)}else{if(bj.hasClass("iconbox-tool")){V(bn,bm,bl,bo,bp,bh)}else{V(bn,bm,bl,bo,bp,bh,true)}}},bh.mouseDownIconDuration)}function aE(bj,bm){var bl=bj.moveObj;var bk=bj.flagObj;var bi=bj.moveIconObj;bi.mouseDownIconCurrentPoint.x=Math.floor(bm.pageX);bi.mouseDownIconCurrentPoint.y=Math.floor(bm.pageY);var bh=Math.abs(bi.mouseDownIconPrevPoint.x-bi.mouseDownIconCurrentPoint.x);var bn=Math.abs(bi.mouseDownIconPrevPoint.y-bi.mouseDownIconCurrentPoint.y);if(!bk&&(bh>bj.ignoreDistance||bn>bj.ignoreDistance)){clearTimeout(bi.timeout);bl.attr({"isMouseDownIcon":""});return}if(bl.attr("isMouseDownMove")){bk.css({"left":parseInt(bk.css("left"))+bi.mouseDownIconCurrentPoint.x-bi.mouseDownIconPrevPoint.x+"px","top":parseInt(bk.css("top"))+bi.mouseDownIconCurrentPoint.y-bi.mouseDownIconPrevPoint.y+"px"});if(!bi.iconInterval){bi.iconInterval=setInterval(function(){var bo;var bp;if(bk.hasClass("icondesktopbox")){bp=a1(bk,bj);bo=aB(bk,bp.size,bj.currentPageIndex,bj.desktopWidth,bj.separationLine,bj.verSize,bj.horSize)}else{bo=aB(bk,"1x1",bj.currentPageIndex,bj.desktopWidth,bj.separationBoxLine,bj.verIconSize,bj.horIconSize)}if(!T(bo,bj)){return}if(bk.hasClass("icondesktopbox")){q(bk,bp,bj.data,bj)}else{var bq=aq(bl.parents(".icondesktopbox"),bj);O(bk,a1(bl,bj),bj.data[bq],bj)}},500)}}bi.mouseDownIconPrevPoint.x=bi.mouseDownIconCurrentPoint.x;bi.mouseDownIconPrevPoint.y=bi.mouseDownIconCurrentPoint.y
}function a8(bi){var bn=bi.moveObj;var bh=bi.flagObj;var bs=bi.moveIconObj;if(bn.attr("isMouseDownIcon")){bn.attr({"isMouseDownIcon":""});clearTimeout(bs.timeout);if(bn.attr("isMouseDownMove")){bn.attr({"isMouseDownMove":""});var bq=0;var bj=bs.$iconBelow;if(bs.$prevIconBelow===bj){var bk=u(bi.data,aq(bn,bi),aq(bj,bi),bi);$groupObj=aW(bn,bj,bi,bk);bi.flagObj.remove();bn=$groupObj.$this;bj=$groupObj.$iconBelow;Y(bi);setTimeout(function(){aJ(null,bi,bi.desktopAutoFill)},300);bq=2}else{var bo=parseInt(bn.css("left"));var bp=parseInt(bn.css("top"));var bm=parseInt(bn.css("width"));var bl=parseInt(bn.css("height"));var br=aT(bn,bo,bp,bi);bo=br.left;bp=br.top;if(bn.hasClass("iconbox-a")){ay(bh,bn,bo,bp,bm,bl)}else{if(bn.hasClass("iconbox__close")){ay(bh,bn,bo,bp,bm,bl,true,bi.closeBoxPadding);a(bn)}else{if(bn.hasClass("iconbox-tool")){ay(bh,bn,bo,bp,bm,bl)}}}Y(bi,true)}bs.finishTime=new Date().getTime();if(bs.$flagDom){bs.$flagDom=null}y(bs);if(bs.iconInterval){clearInterval(bs.iconInterval);bs.iconInterval=null;bs.$prevIconBelow=bs.$empty;bs.isSuspended=false}}}bi.moveObj=null;bi.flagObj=null}function y(bh){if(bh.$flagDomBelow){bh.$flagDomBelow.remove();bh.$flagDomBelow=null}}function Y(bj,bh){at(bj);A(bj);if(!bh){var bi=bj.moveIconObj;bi.$prevIconBelow=bi.$empty}}function ao(bh){var bj=bh.parents(".icondesktop-slidebox");var bi=[];bh.siblings(".icondesktopbox").each(function(bl,bm){var bp=parseInt(aZ(this).css("left"));var bo=parseInt(aZ(this).css("top"));var bn=parseInt(aZ(this).css("width"));var bk=parseInt(aZ(this).css("height"));bi.push({"left":bp,"top":bo,"right":bp+bn,"bottom":bo+bk,"$icon":aZ(this)})});return bi}function aV(bj){var bl=ao(bj);var bi=parseInt(bj.css("left"))+parseInt(bj.css("width"))/2;var bh=parseInt(bj.css("top"))+parseInt(bj.css("height"))/2;for(var bk=0;bk<bl.length;bk++){var bm=bl[bk];if(bi>bm.left&&bi<bm.right&&bh>bm.top&&bh<bm.bottom){return bm.$icon}}return null}function aq(bi,bj){var bh=bi.attr("location");var bk=bf(bh,bj.data,bj.locationObj);return bk}function a2(bm,bn,bh){var bi=bh.locationBoxObj[bn];var bo=bm.attr("location");var bl=[];for(var bp in bi){bl.push(L(bp,"1x1"))}bl.sort(z);var bk=0;for(;bk<bl.length;bk++){var bj=bl[bk];if(bj.location===bo){break}}if(bk>=bl.length){return null}return bk}function a1(bi,bl){var bm=bl.data;var bk;if(bi.hasClass("icondesktopbox")){bk=bm[aq(bi,bl)]}else{bk=bm[aq(bi.parents(".icondesktopbox"),bl)];var bh=bk.location;var bj=a2(bi,bh,bl);if(bj===null){return null}bk=bk.children[bj]}return bk}function bd(bh,bj){var bl=bj.data;if(bh.hasClass("icondesktopbox")){var bi=aq(bh,bj);bl.splice(bi,1)}else{var bk=bl[aq(bh.parents(".icondesktopbox"),bj)];var bi=a2(bh,bk.location,bj);bk.children.splice(bi,1)}}function u(bm,bi,bl,bj){var bo=bm[bi];var bh=bm[bl];var bk;delete bj.locationObj[bo.location];if(bh.img){bk={title:bj.newGroupName,extraClass:bh.extraClass,size:bh.size,location:bh.location,children:[bh,bo]};var bn={};bj.locationBoxObj[bk.location]=bn;bh.location=a6(bn,bj);bo.location=a6(bn,bj);if(bi>bl){bm.splice(bi,1);bm.splice(bl,1,bk)}else{bm.splice(bl,1,bk);bm.splice(bi,1)}}else{bm.splice(bi,1);bh.children.push(bo);bk=bh;var bn=bj.locationBoxObj[bk.location];bo.location=a6(bn,bj)}return bk}function aW(bn,bi,bl,bm){if(bi.hasClass("iconbox-a")){var bk=D(bl,bm);aj(bk,bl);Q(bk,bl);bk.css({"top":bi.css("top"),"left":bi.css("left")});bk.insertAfter(bi);var bo=bi;bi=bk.find(".iconbox-a").eq(0);bo.remove();bo=bn;bn=bk.find(".iconbox-a").eq(1);bo.remove();al(bi,bm.children[0],bl);al(bn,bm.children[1],bl)}else{var bj=bm.children[bm.children.length-1];al(bn,bj,bl);var bh=aM(bm.children.length-1,bl);Q(bi,bl);bn.css({"left":bh.left+"px","top":bh.top+"px","width":bl.thumbnailWidth+"px","height":bl.thumbnailHeight+"px","opacity":"","cursor":"","zIndex":""}).removeClass("icondesktopbox").addClass("iconinbox");bn.find(".iconbox-checkbox").hide();bn.find(".iconbox-delbtn").hide();ax(bn.children(".iconbox-checkbox"),bm.children[bm.children.length-1],bm);bn.appendTo(bi.find(".iconbox-area__container")).show();ab(bi,bl);bn.find(".iconbox-superscript__children").hide()}return{$this:bn,$iconBelow:bi}}function aH(bk,bi,bj){var bl=bk[bi];var bh=bk[bj];bk[bi]=bh;bk[bj]=bl}function S(bk,bh,bj){bk.animate({"left":bh.css("left"),"top":bh.css("top"),"padding":bj.closeBoxPadding+"px"},"fast","swing",function(){aZ(this).css({"zIndex":1,"cursor":"pointer"});aZ(this).attr({"prevLeft":aZ(this).css("left"),"prevTop":aZ(this).css("top")})});bh.animate({"left":bk.attr("prevLeft"),"top":bk.attr("prevTop")},"fast","swing",function(){aZ(this).css("zIndex",1);aZ(this).attr({"prevLeft":aZ(this).css("left"),"prevTop":aZ(this).css("top")})});var bi=bk.next(".icondesktopbox");var bl=bh.next(".icondesktopbox");if(bi.size()){bh.insertBefore(bi)}else{bh.appendTo(bh.parent())}if(bl.size()){bk.insertBefore(bl)}else{bk.appendTo(bk.parent())}}function az(bi,bh){I(bi,bh);a3(bi,bh);C(bi,bh);aL(bi,bh)}function aL(bi,bh){bi.find(".icondesktopbox").each(function(bj){aZ(this).get(0).oncontextmenu=function(bl){if(bl){bl.stopPropagation()
}else{var bk=window.event;bk.cancelBubble=true}bi.find(".icondesktop-menu").hide();return false}})}function aa(bi,bh){var bj=bh.currentPageIndex;az(bi,bh);if(bj>=bh.pages){bh.currentPageIndex=bh.pages-1}else{bh.currentPageIndex=bj}if(bh.currentPageIndex<0){bh.currentPageIndex=0}bi.find(".icondesktop-slidebox").css({"marginLeft":-bh.currentPageIndex*bh.width+"px"});bi.find(".icondesktop-pageitem").eq(bh.currentPageIndex).addClass("icondesktop-pageitem__active").siblings().removeClass("icondesktop-pageitem__active")}function bb(bi){var bh=aZ(document.createElement("a"));bh.addClass("icondesktop-pageitem");bi.append(bh);return bh}function aN(bj){var bi=bj.children(":last-child");var bh="icondesktop-pageitem__active";if(bi.hasClass(bh)){bi.prev().addClass(bh)}bi.remove()}function a9(bm,bh,bk,bo){if(bo){e(bh.data,bk);aa(bm,bh)}else{if(bh.openBox.$box){var bl=aq(bh.openBox.$box,bh);var bn=bh.data[bl];bk.location=a6(bh.locationBoxObj[bn.location],bh);e(bn.children,bk);bn.children.sort(z);X(bh.openBox.$box,bh,bk,bn);am(bh.openBox.$box.find(".iconbox-area__container"))}else{bk.location=m(bk.size,bh);e(bh.data,bk);bh.data.sort(z);var bp=X(bm,bh,bk,null);var bj=s(bk.location);var bi=bj.page+1;if(bi>bh.pages){p(bp[0],bh.pages,bi);bh.pages=bi}}}}function e(bh,bk){if(bk.push){for(var bj=0;bj<bk.length;bj++){var bi=bk[bj];bh.push(bi)}}else{bh.push(bk)}}function a5(bl,bk,bj,bh){var bi=w(bk,null,bj,bh);if(bk.ableChecked){bi.find(".iconbox-checkbox__children").show()}if(bk.ableDel){bi.find(".iconbox-delbtn__children").show()}aD(bi,bk,bj);bi.find(".iconbox-icontitle").show();bi.css({"width":bk.closeBoxWidth+"px","height":bk.closeBoxHeight+"px"});Q(bi,bk);al(bi,bj,bk,"set");if(bl.hasClass("iconbox")){bl.find(".iconbox-area__container").append(bi)}else{bl.find(".icondesktop-slidebox").append(bi)}return bi}function X(bo,bm,bn,bh){var bl=[];if(bn.push){for(var bk=0;bk<bn.length;bk++){var bj=bn[bk];var bi=a5(bo,bm,bj,bh);bl.push(bi)}}else{var bi=a5(bo,bm,bn,bh);bl.push(bi)}return bl}function aD(bi,bj,bk){if(!bk){bk=a1(bi,bj)}var bh=bi.find(".iconbox-superscript__children");if(bk.superscript){bh.text(bk.superscript).show()}else{bh.text(0).hide()}}function ab(bn,bk,bm){if(!bm){bm=a1(bn,bk)}var bh=bn.find(".iconbox-superscript__parent");var bl=0;for(var bj=0;bj<bm.children.length;bj++){var bi=bm.children[bj];if(bi.superscript){bl+=bi.superscript}}bh.text(bl);if(bl>0){bh.show()}else{bh.hide()}}function R(bm,bk,bl){if(!bl){bl=a1(bm,bk)}var bh=bm.find(".iconbox-a");for(var bj=0;bj<bl.children.length;bj++){var bi=bl.children[bj];aD(bh.eq(bj),bk,bi)}}function aI(bj,bi,bh){if(bi){bj.find(".iconbox__close .iconbox-"+bh+"__parent").show();bj.find(".iconbox__open .iconbox-"+bh+"__children").show();bj.find(".iconbox-a.icondesktopbox .iconbox-"+bh+"__children").show()}else{bj.find(".iconbox-"+bh).hide()}}function aU(bi,bj){var bk=true;for(var bh in bj){if(bj[bh]!=bi[bh]){bk=false;break}}return bk}function d(by,bh){var br=by.width();var bq=by.height();bh.width=br;bh.height=bq;var bB=bh.pageHeight>bh.desktopVerticalPadding?bh.pageHeight:bh.desktopVerticalPadding;var bo=Math.floor((br-bh.desktopHorizontalPadding*2+bh.closeBoxHorizontalMargin)/(bh.closeBoxWidth+bh.closeBoxHorizontalMargin));var bl=Math.floor((bq-bB-bh.desktopVerticalPadding+bh.closeBoxVerticalMargin)/(bh.closeBoxHeight+bh.closeBoxTitleHeight+bh.closeBoxVerticalMargin));var bx=bo*bl;bh.horSize=bo;bh.verSize=bl;bh.pageSize=bx;var bm=(br-bh.desktopHorizontalPadding*2-bh.closeBoxWidth*bo)/(bo-1);var bz=(bq-bB-bh.desktopVerticalPadding-bh.closeBoxHeight*bl-bh.closeBoxTitleHeight*bl)/(bl-1);if(bz>bh.closeBoxHeight){bz=bh.closeBoxHeight}bh.closeBoxRealHorizontalMargin=bm;bh.closeBoxRealVerticalMargin=bz;ap(bh.data,bh,true);var bj={};var bs={lineX:[],lineY:[]};var bv=bh.closeBoxWidth/2;var bp=bh.closeBoxHeight/2;for(var bu=0;bu<bl;bu++){for(var bt=0;bt<bo;bt++){var bA=h(0,bu,bt,bh);var bn=bA.y;var bk=bn+bh.closeBoxHeight;var bi=bA.x;var bw=bi+bh.closeBoxWidth;bj["g_"+bu+"_"+bt]={top:bn,bottom:bk,left:bi,right:bw};if(bu==0){bs.lineX.push(bi-bv);bs.lineX.push(bi+bv)}if(bt==0){bs.lineY.push(bn-bp);bs.lineY.push(bn+bp)}}}bs.lineX.push(bh.desktopWidth-bh.desktopHorizontalPadding+bv);bs.lineY.push(bh.desktopHeight-bh.pageHeight);bh.grids=bj;bh.separationLine=bs}function n(by,bh){bh.openBoxWidth=bh.width-bh.openBoxMarginLeft-bh.openBoxMarginRight;bh.openBoxHeight=bh.height-bh.openBoxMarginTop-bh.openBoxMarginBottom;var bs=Math.floor((bh.openBoxWidth-bh.openBoxPadding*2+bh.closeBoxHorizontalMargin)/(bh.closeBoxWidth+bh.closeBoxHorizontalMargin));var br=100;bh.horIconSize=bs;bh.verIconSize=br;var bn=(bh.openBoxWidth-bh.openBoxPadding*2-bh.closeBoxWidth*bs)/(bs-1);var bj=bh.closeBoxVerticalMargin;bh.openBoxRealHorizontalMargin=bn;bh.openBoxRealVerticalMargin=bj;for(var bu=0;bu<bh.data.length;bu++){var bi=bh.data[bu];var bl={};bh.locationBoxObj[bi.location]=bl;if(bi.children&&bi.children.length){i(bi.children,bl,bh,true)}}var bA=[];var bq={lineX:[],lineY:[]};var bw=bh.closeBoxWidth/2;var bp=bh.closeBoxHeight/2;
var bv=bh.desktopHeight-bh.openBoxMarginBottom;for(var bu=0;bu<br;bu++){for(var bt=0;bt<bs;bt++){var bz=K(bu,bt,bh);var bo=bz.y+bh.openBoxMarginTop;var bm=bo+bh.closeBoxHeight;var bk=bz.x+bh.openBoxMarginLeft;var bx=bk+bh.closeBoxWidth;bA.push({top:bo,bottom:bm,left:bk,right:bx});if(bu===0){if(bt===0){bq.lineX.push(bh.openBoxMarginLeft)}else{bq.lineX.push(bk-bw)}bq.lineX.push(bk+bw)}if(bt===0){if(bu===0){bq.lineY.push(bh.openBoxMarginTop)}else{bq.lineY.push(bo-bp)}bq.lineY.push(bo+bp)}}}bq.lineX.push(bh.desktopWidth-bh.openBoxMarginRight);bq.lineY.push(bv);bh.boxGrids=bA;bh.separationBoxLine=bq}function h(bj,bm,bh,bi){var bl,bk;if(bi.verSize==1){bl=(bi.desktopHeight-bi.closeBoxHeight-bi.closeBoxTitleHeight)/2}else{bl=bm*(bi.closeBoxHeight+bi.closeBoxRealVerticalMargin+bi.closeBoxTitleHeight)+bi.desktopVerticalPadding}if(bi.horSize==1){bk=(bi.desktopWidth-bi.closeBoxWidth)/2}else{bk=bh*(bi.closeBoxWidth+bi.closeBoxRealHorizontalMargin)+bi.desktopHorizontalPadding}bk+=bj*bi.desktopWidth;return{x:Math.floor(bk),y:Math.floor(bl)}}function K(bl,bh,bi){var bk,bj;if(bi.verIconSize==1){bk=(bi.desktopHeight+bi.openBoxMargin-bi.closeBoxHeight-bi.closeBoxTitleHeight)/2}else{bk=bl*(bi.closeBoxHeight+bi.openBoxRealVerticalMargin+bi.closeBoxTitleHeight)+bi.openBoxPadding}if(bi.horIconSize==1){bj=(bi.desktopWidth-bi.closeBoxWidth)/2}else{bj=bh*(bi.closeBoxWidth+bi.openBoxRealHorizontalMargin)+bi.openBoxPadding}return{x:Math.floor(bj),y:Math.floor(bk)}}function ar(bx,bj,bq,bk,br){var bu=bj.locationObj;if(bq){af(bu,bk)}var bs=0;var bo=[];var bp={};for(var bv=0;bv<bx.length;bv++){var bl=bx[bv];var bh=bl.size;if(bq||!bl.location){var bm=bl.location;if(bk&&bk===bm&&bl.$dom.attr("location")!=bm){bp[br]=bk}else{bl.location=m(bh,bj);if(bm){bp[bm]=bl.location}}bo.push(bl.location);if(bl.$dom){F(bl.$dom,bl.location)}}var bn=s(bl.location);if(bn&&bn.page>bs){bs=bn.page}}bx.sort(z);bj.pages=bs+1;if(bq){var bi=bj.locationBoxObj;var bw={};for(var by in bp){var bt=bp[by];bw[bt]=bi[by];delete bi[by]}for(var by in bw){bi[by]=bw[by]}}return bo}function ap(bx,bj,bp,bw){var bt=bj.locationObj;if(bp){af(bt)}var bq=0;var br=0;var bn=[];var bo={};for(var bu=0;bu<bx.length;bu++){var bk=bx[bu];var bh=bk.size;var bl=bk.location;if(bp||!bl){bk.location=m(bh,bj);if(bl){bo[bl]=bk.location}else{if(bw&&br<bw.length){bo[bw[br++]]=bk.location}}bn.push(bk.location);if(bk.$dom){F(bk.$dom,bk.location)}}var bm=s(bk.location);if(bm&&bm.page>bq){bq=bm.page}}bx.sort(z);bj.pages=bq+1;var bi=bj.locationBoxObj;var bv={};for(var by in bo){var bs=bo[by];bv[bs]=bi[by];delete bi[by]}for(var by in bv){bi[by]=bv[by]}return bn}function i(bl,bm,bk,bj){if(bj){af(bm)}for(var bi=0;bi<bl.length;bi++){var bh=bl[bi];if(bj||!bh.location){bh.location=a6(bm,bk)}if(bh.$dom){F(bh.$dom,bh.location)}}bl.sort(z)}function E(bk,bh){for(var bj=0;bj<bh.length;bj++){var bi=bh[bj];var bl=s(bi);if(bk!==bl.page){return true}}return false}function s(bi){if(!bi){return null}var bh=bi.split("_");var bk=parseInt(bh[1]);var bl=parseInt(bh[2]);var bj=parseInt(bh[3]);return{page:bk,row:bl,col:bj}}function be(bj){bj=bj.replace(/\s*/g,"");var bh=bj.split("x");var bk=bh[0];var bi=bh[1];return{row:parseInt(bk),col:parseInt(bi)}}function al(bi,bk,bj,bl){var bm=s(bk.location);var bh;if(bm.page===-1){bh=K(bm.row,bm.col,bj)}else{bh=h(bm.page,bm.row,bm.col,bj)}bk.$dom=bi;F(bi,aG(bm.page,bm.row,bm.col));if(bl==="set"){bi.css({"left":bh.x+"px","top":bh.y+"px"})}else{if(bl==="animate"){bi.animate({"left":bh.x+"px","top":bh.y+"px","width":bj.closeBoxWidth+"px","height":bj.closeBoxHeight+"px"})}}}function m(bs,bk){var bi=bk.locationObj;var bm=0;var bq;var bo=be(bs);var br=bo.row;var bl=bo.col;var bp;var bj=10;var bh=0;outer:while(bh<bj){bp=ag(bm++,br,bl,bk);if(bp.length){break}else{bh++}}if(bh>=bj){return null}for(var bn=0;bn<bp.length;bn++){bi[bp[bn]]=L(bp[0],bs)}return bp[0]}function a6(bm,bj){var bl=0;var bh=0;var bk;outer:while(true){for(var bi=0;bi<bj.horIconSize;bi++){bk=aG(-1,bl,bi);if(!bm[bk]){break outer}}bl++}bm[bk]=L(bk,"1x1");return bk}function ag(bp,br,bo,bi){var bh=bi.locationObj;var bq=[];var bt=br*bo;breakPage:for(var bk=0;bk<bi.verSize;bk++){breakRow:for(var bj=0;bj<bi.horSize;bj++){var bu=aG(bp,bk,bj);if(!bh[bu]){bq.push(bu);breakCol:for(var bv=0;bv<br;bv++){var bm=bk+bv;if(bm>=bi.verSize){bq=[];break breakPage}for(var bl=0;bl<bo;bl++){if(bv==0&&bl==0){continue}var bs=bj+bl;var bn=aG(bp,bm,bs);if(bs>=bi.horSize){bq=[];break breakRow}else{if(bh[bn]){bq=[];break breakCol}else{bq.push(bn)}}}}if(bq.length===bt){break breakPage}}}}return bq}function L(bh,bi){return{location:bh,size:bi,isOccupied:true}}function aG(bi,bj,bh){return"l_"+bi+"_"+bj+"_"+bh}function aB(bk,by,bl,bA,bE,bh,bm,bj){var bl=bl;var bw=bl*bA;var bn=parseInt(bk.css("left"))-bw;var bx=parseInt(bk.css("top"));var bD=parseInt(bk.css("width"));var bz=parseInt(bk.css("height"));var bt=bn+bD/2;var bs=bx+bz/2;var bC=bE.lineX;var bB=bE.lineY;if(bt<=bC[0]){return{pos:"left"}}else{if(bt>=bC[bC.length-1]){return{pos:"right"}}else{if(bs<=bB[0]){return{pos:"top"}
}else{if(bs>=bB[bB.length-1]){return{pos:"bottom"}}}}}if(!bj){bj=0}bx+=bj;var br=null,bp=null;var bq,bo;for(var bG=0;bG<bC.length-1;bG++){var bv=bC[bG];if(bn<=bv){if(bG==0&&by!=="1x1"){return{pos:"over"}}else{bp=Math.floor(bG/2);bo=(bG%2!==0)}break}}for(var bG=0;bG<bB.length;bG++){var bu=bB[bG];if(bx<=bu){if(bG==0){return{pos:"over"}}else{br=Math.floor(bG/2);bq=(bG%2!==0)}break}}var bi=be(by);if(br==null||bp==null||br+bi.row>bh||bp+bi.col>bm){return{pos:"over"}}var bH=[];for(var bG=0;bG<bi.row;bG++){for(var bF=0;bF<bi.col;bF++){bH.push(aG(bl,br+bG,bp+bF))}}return{row:br,col:bp,location:aG(bl,br,bp),pos:"center",locations:bH,isEnter:bq&&bo}}function q(bi,bm,bn,bl){var bj=aB(bi,bm.size,bl.currentPageIndex,bl.desktopWidth,bl.separationLine,bl.verSize,bl.horSize);var bo=bj.pos;if(bo!=="center"){Z(bl)}if(bo==="left"){var bk=g(bi.parents(".icondesktop"),bl.currentPageIndex-1,bl.width,bl.pages,bl);if(bk){bi.animate({"left":"-="+bl.desktopWidth+"px"})}}else{if(bo==="right"){var bk=g(bi.parents(".icondesktop"),bl.currentPageIndex+1,bl.width,bl.pages,bl);if(bk){bi.animate({"left":"+="+bl.desktopWidth+"px"})}}else{if(bo==="top"||bo==="bottom"||bo==="over"){}else{if(bm.location===bj.location){Z(bl)}else{if(bm.img){if(bj.isEnter){var bh=j(bj.location,bn,bl.locationObj);if(bh==null){av(bl.flagObj,bm,bn,bj,bl.locationObj,bl)}else{if(bh.img){A(bl);U(bh.$dom,bl)}else{if(bh.type==="tool"){aK(bl.flagObj,bm,bn,bj,bl.locationObj,bl)}else{at(bl);if(bh.$dom!==bl.moveIconObj.$prevIconBelow){A(bl)}W(bh.$dom,bl)}}}}else{aK(bl.flagObj,bm,bn,bj,bl.locationObj,bl)}}else{if(bm.type==="tool"){av(bl.flagObj,bm,bn,bj,bl.locationObj,bl)}else{aK(bl.flagObj,bm,bn,bj,bl.locationObj,bl)}}}}}}}function O(bp,bl,bm,bh){var bj=bm.children;var bi=bm.$dom.find(".iconbox-area__container").scrollTop();var bk=aB(bp,bl.size,bh.currentPageIndex,bh.desktopWidth,bh.separationBoxLine,bh.verIconSize,bh.horIconSize,bi);H(bk);var bn=bk.pos;if(bn==="left"||bn==="right"||bn==="top"||bn==="bottom"){N(bp,bl,bm,bh)}else{if(bn==="over"){}else{if(bl.location===bk.location){}else{if(bl.img){if(bk.isEnter){var bo=j(bk.location,bj,bh.locationBoxObj[bm.location]);if(bo==null){J(bh.flagObj,bl,bj,bk,bh.locationBoxObj[bm.location],bh)}else{if(bo.img){console.log(bl.location);aO(bh.flagObj,bl,bj,bk.location,bh.locationBoxObj[bm.location],bh)}else{if(bo.type==="tool"){}else{}}}}else{aO(bh.flagObj,bl,bj,bk.location,bh.locationBoxObj[bm.location],bh)}}else{if(bl.type==="tool"){}else{}}}}}}function at(bh){bh.$closeBoxBackground.hide()}function A(bm){var bk=bm.moveIconObj;var bl=bk.$prevIconBelow;if(bl.hasClass("iconbox__close")&&bl.attr("prevLeft")){var bi=parseInt(bl.attr("prevLeft"));var bj=parseInt(bl.attr("prevTop"));var bn=bm.closeBoxWidth;var bh=bm.closeBoxHeight;ay(bl,null,bi,bj,bn,bh,true,bm.closeBoxPadding);a(bl)}}function a(bh){bh.attr({"prevLeft":"","prevTop":""})}function Z(bi){at(bi);A(bi);var bh=bi.moveIconObj;bh.$prevIconBelow=bh.$empty;f(bi)}function aK(bh,br,bq,bm,bi,bk){Z(bk);var bj=br.location;var bt=bm.location;var bs=[];af(bi);bi[bt]=L(bt,br.size);for(var bp=0;bp<bq.length;bp++){var bo=bq[bp];if(bo!==br&&bo.location){bs.push(bo.location);delete bo.location}}br.location=bt;var bn=bk.locationBoxObj[bj];delete bk.locationBoxObj[bj];var bl=bk.pages;ap(bq,bk,false,bs);bk.locationBoxObj[bt]=bn;F(bh,br.location);F(br.$dom,br.location);p(br.$dom,bl,bk.pages);P(bq,bk,bf(bm.location,bq,bk.locationObj))}function M(bh){return bh.parents(".icondesktop-slidebox").siblings(".icondesktop-pagination").children().eq(0)}function av(bn,bj,bA,bm,bw,bh){Z(bh);var bs=bj.location;var bt=bm.location;var bz=[];var br=aQ(bj.location,bj.size);for(var bx=0;bx<br.length;bx++){var bi=br[bx];delete bw[bi]}for(var bx=0;bx<bm.locations.length;bx++){var bi=bm.locations[bx];var by=j(bi,bA,bw);if(by&&by.location){bz.push(by.location);delete by.location}if(bw[bi]){var bo=aQ(bw[bi].location,bw[bi].size);for(var bu=0;bu<bo.length;bu++){var bq=bo[bu];delete bw[bq]}}bw[bi]=L(bm.location,bj.size)}var bv=s(bj.location);bj.location=bt;var bl=bh.locationBoxObj[bs];delete bh.locationBoxObj[bs];var bp=bh.pages;var bk=ap(bA,bh,false,bz);bh.locationBoxObj[bt]=bl;F(bn,bj.location);F(bj.$dom,bj.location);if(E(bv.page,bk)){p(bj.$dom,bp,bh.pages);P(bA,bh,bf(bm.location,bA,bh.locationObj))}else{p(bj.$dom,bp,bh.pages);P(bA,bh,bf(bm.location,bA,bh.locationObj))}}function aO(bl,bk,bj,bh,bm,bi){af(bm);bm[bh]=L(bh,bk.size);ak(bj);bk.location=bh;F(bl,bk.location);F(bk.$dom,bk.location);i(bj,bm,bi);console.log(bh);console.log(bf(bh,bj,bm));P(bj,bi,bf(bh,bj,bm))}function J(bh,bs,bm,bn,bj,bl){var bu=aQ(bs.location,bs.size);for(var bq=0;bq<bu.length;bq++){var bp=bu[bq];delete bj[bp]}for(var bq=0;bq<bn.locations.length;bq++){var bp=bn.locations[bq];var bi=j(bp,bm,bj);if(bi){delete bi.location}if(bj[bp]){var br=aQ(bj[bp].location,bj[bp].size);for(var bo=0;bo<br.length;bo++){var bt=br[bo];delete bj[bt]}}bj[bp]=L(bn.location,bs.size)}var bk=s(bs.location);bs.location=bn.location;F(bh,bs.location);F(bs.$dom,bs.location);i(bm,bl);
P(bm,bl,bf(bn.location,bm,bl.locationObj))}function U(bh,bl){var bk=bl.moveIconObj;var bm=bl.$closeBoxBackground;aA(bl);bk.$iconBelow=bh;if(bh!==bk.$prevIconBelow){bh.css({"zIndex":2});bm.css({"left":bh.css("left"),"top":bh.css("top"),"width":bl.closeBoxWidth+"px","height":bl.closeBoxHeight+"px","display":"block"});var bi=parseInt(bh.css("left"));var bj=parseInt(bh.css("top"));V(bm,bi,bj,bl.closeBoxWidth,bl.closeBoxHeight,bl)}bk.$prevIconBelow=bh}function V(bi,bn,bm,bl,bh,bk,bj){bi.stop().animate({"left":bn-bk.closeBoxEnlargeWidth+"px","top":bm-bk.closeBoxEnlargeHeight+"px","width":bl+bk.closeBoxEnlargeWidth*2+"px","height":bh+bk.closeBoxEnlargeHeight*2+"px"},{"duration":"fast","easing":"swing","step":function(){bi.css("overflow","visible")}});if(bj){bi.find(".iconbox-area__container").animate({"margin":bk.closeBoxEnlargeWidth+"px"},"fast",function(){})}}function ay(bk,bn,bm,bl,bj,bh,bi,bo){bk.animate({"left":bm+"px","top":bl+"px","width":bj+"px","height":bh+"px"},{"duration":"fast","easing":"swing","step":function(){bk.css("overflow","visible")},"complete":function(){if(bn===null){bk.css({"cursor":"","zIndex":1})}else{bn.css({"cursor":"","zIndex":1,"opacity":1});bk.remove()}}});if(bi){bk.find(".iconbox-area__container").animate({"margin":"0px"},"fast",function(){})}}function W(bi,bl){var bk=parseInt(bi.css("left"));var bh=parseInt(bi.css("top"));var bm=parseInt(bi.css("width"));var bn=parseInt(bi.css("height"));var bj=bl.moveIconObj;aA(bl);bj.$iconBelow=bi;if(!bi.attr("prevLeft")){bi.attr({"prevLeft":bk+"px","prevTop":bh+"px","prevWidth":bm+"px","prevHeight":bn+"px"});V(bi,bk,bh,bm,bn,bl,true)}bj.$prevIconBelow=bi}function f(bh){if(bh.moveObj){bh.moveObj.show()}}function aA(bh){if(bh.moveObj){bh.moveObj.hide()}}function p(bj,bi,bh){var bl=M(bj);if(bh>bi){for(var bk=0;bk<bh-bi;bk++){bb(bl)}}else{for(var bk=0;bk<bi-bh;bk++){aN(bl)}}}function ak(bj){for(var bi=0;bi<bj.length;bi++){var bh=bj[bi];if(bh.location){delete bh.location}}}function an(bm,bl,bk,bj){var bh=bj.locationObj;var bo=bf(bm.location,bl,bj.locationObj);var bp;if(!bh[bk.location]||bk.location!==bh[bk.location].location){var bn=be(bm.size);var bi=ba(bk.location,bj,bn.row,bn.col);if(bi==null){bp=-1}else{bp=bf(bi,bl,bj.locationObj)}}else{bp=bf(bk.location,bl,bj.locationObj)}return{moveIndex:bo,relativeIndex:bp}}function F(bh,bi){bh.attr("location",bi)}function b(bi,bk){var bj=s(bi);var bh=s(bk);if(bj.row<bk.row){return true}else{if(bj.row>bk.row){return false}else{if(bj.col<bk.col){return true}else{return false}}}}function P(bi,bh,bo,bn){var bl=0;for(var bj=0;bj<bi.length;bj++){var bk=bi[bj];var bp=bk.$dom;var bm=bk.location;if(bj===bo){aw(bh.moveObj,bm,bh)}else{bg(bp,bm,bh,function(){bl++;if(bl===bi.length){if(typeof bn==="function"){bn()}}})}}}function bg(bh,bi,bk,bm){var bl=s(bi);if(bl.page===-1){var bj=K(bl.row,bl.col,bk);bh.animate({"left":bj.x+"px","top":bj.y+"px"},function(){if(typeof bm==="function"){bm()}})}else{var bj=h(bl.page,bl.row,bl.col,bk);bh.animate({"left":bj.x+"px","top":bj.y+"px"},function(){if(typeof bm==="function"){bm()}})}}function aw(bh,bi,bk){var bl=s(bi);if(bl.page===-1){var bj=K(bl.row,bl.col,bk);bh.css({"left":bj.x+"px","top":bj.y+"px"})}else{var bj=h(bl.page,bl.row,bl.col,bk);bh.css({"left":bj.x+"px","top":bj.y+"px"})}}function bf(bh,bl,bn){var bi=bn[bh];if(!bi){return null}var bm=bi.location;for(var bk=0;bk<bl.length;bk++){var bj=bl[bk];if(bj.location===bm){return bk}}return null}function j(bh,bl,bn){var bi=bn[bh];if(!bi){return null}var bm=bi.location;for(var bk=0;bk<bl.length;bk++){var bj=bl[bk];if(bj.location===bm){return bj}}return null}function ah(bs,bj){var bt=bj.verSize;var bk=bj.horSize;var bl=s(bs);var bq=bl.page;var bh=bl.row;var br=bl.col;var bi=bj.locationObj;for(var bo=bh;bo>=0;bo--){var bn=(bo===bh)?br-1:bk-1;for(;bn>=0;bn--){var bp=aG(bq,bo,bn);var bm=bi[bp];if(bm.location===bp){return bp}}}return null}function ba(bu,bj,bt,bq){var bv=bj.verSize;var bk=bj.horSize;var bl=s(bu);var br=bl.page;var bh=bl.row;var bs=bl.col;var bi=bj.locationObj;var bp,bn;for(var bo=bh;bo<bv;bo++){var bm=(bo===bh)?bs+bq:0;for(;bm<bk;bm++){bp=aG(br,bo,bm);bn=bi[bp];if(bn&&bn.location===bp){return bp}}}for(var bo=0;bo<bv;bo++){for(var bm=0;bm<bk;bm++){bp=aG(br+1,bo,bm);bn=bi[bp];if(bn&&bn.location===bp){return bp}}}return null}function t(bh,bi){var bj=bi.moveLocations;if(bj.length>=bi.moveLocationMaxLength){bj.shift()}bj.push(bj)}function c(bh){var bi=bh.moveLocations;bi.length=0}function T(bh,bj){t(bh,bj);var bi=B(bj.moveLocations,bj);if(bi){c(bj)}return bi}function B(bm,bl){if(bm.length<bl.moveLocationMaxLength){return false}var bi;var bh=true;for(var bk=0;bk<bm.length;bk++){var bj=bm[bk];if(bk===0){bi=bj}else{if(!au(bi,bj)){bh=false;break}}}return bh}function au(bi,bh){if(bi.pos!==bh.pos){return false}if(bi.pos!=="center"){return true}if(bi.row===bh.row&&bi.col===bh.col&&bi.isEnter===bh.isEnter){return true}return false}function aQ(bh,bk){var bn=s(bh);var bm=be(bk);var bl=[];for(var bj=0;bj<bm.row;bj++){for(var bi=0;bi<bm.col;
bi++){bl.push(aG(bn.page,bn.row+bj,bn.col+bi))}}return bl}function z(bi,bh){var bk=s(bi.location);var bj=s(bh.location);if(bk==null||bj==null){return -1}if(bk.page<bj.page){return -1}else{if(bk.page>bj.page){return 1}else{if(bk.row<bj.row){return -1}else{if(bk.row>bj.row){return 1}else{if(bk.col<bj.col){return -1}else{return 1}}}}}}function aF(bh){bh.find(".icondesktop-menu").hide()}function ad(bm,bk){bm.removeClass("iconbox__close").addClass("iconbox__open");bk.openBox.top=bm.css("top");bk.openBox.left=bm.css("left");bk.openBox.$box=bm;bm.css("zIndex",5);if(bk.ableChecked){bm.find(".iconbox-checkbox__parent").hide()}if(bk.ableDel){bm.find(".iconbox-delbtn__parent").hide()}bm.find(".iconbox-superscript__parent").hide();bm.find(".iconbox-bg").hide();if(bk.ableEditTitle){bm.find(".iconbox-icontitleinput:visible").focus().blur();bm.find(".iconbox-icontitleinput").hide()}var bl=bm.find(".iconbox-title");var bn=bl.attr("title");if(bn){bl.text(bn)}bm.animate({"backgroundColor":bk.openBoxColor,"width":bk.width+"px","height":bk.height+"px","left":bk.currentPageIndex*bk.width+"px","top":"0"},function(){bk.ableClickBox=true;if(bk.ableChecked){bm.find(".iconbox-checkbox__children").show()}if(bk.ableDel){bm.find(".iconbox-delbtn__children").show()}R(bm,bk);bm.find(".iconbox-icontitle").show();var bo=bm.find(".iconbox-area__container");bo.css({"width":bk.openBoxWidth+20+"px","height":bk.openBoxHeight+"px","overflow":"auto"});setTimeout(function(){am(bo)},200)});bm.find(".iconbox-area").css({"left":"0px","right":"0px","top":"0px","bottom":"0px"}).animate({"left":bk.openBoxMarginLeft+"px","right":bk.openBoxMarginRight+"px","top":bk.openBoxMarginTop+"px","bottom":bk.openBoxMarginBottom+"px"});bm.find(".iconbox-title").css({"height":"0px","lineHeight":"0px","fontSize":"0px","position":""}).animate({"height":bk.openBoxTitleHeight+"px","lineHeight":bk.openBoxTitleHeight+"px","fontSize":bk.openBoxTitleFontSize+"px"});bm.find(".iconbox-a").show();var bh=j(bm.attr("location"),bk.data,bk.locationObj);if(bh&&bh.children&&bh.children.length){for(var bj=0;bj<bh.children.length;bj++){var bi=bh.children[bj];al(bi.$dom,bi,bk,"animate")}}}function aC(bj,bi){bi.openBox.$box=null;bj.removeClass("iconbox__open").addClass("iconbox__close");if(bi.ableChecked){bj.find(".iconbox-checkbox__children").hide()}if(bi.ableDel){bj.find(".iconbox-delbtn__children").hide()}bj.find(".iconbox-superscript__children").hide();if(bi.ableEditTitle){bj.find(".iconbox-icontitleinput:visible").focus().blur()}bj.find(".iconbox-icontitle").hide();bj.find(".iconbox-area__container").css({"width":"","height":"","overflow":"hidden"}).scrollTop(0);bj.find(".iconbox-scrollbar").fadeOut();bj.animate({"backgroundColor":bi.closeBoxColor,"width":bi.closeBoxWidth+"px","height":bi.closeBoxHeight+"px","left":bi.openBox.left,"top":bi.openBox.top,"padding":"0px"},function(){bj.css({"zIndex":1,"backgroundColor":""});var bl=bj.find(".iconbox-title");var bk=bl.attr("shortTitle");if(bk){bl.text(bk)}if(bi.ableChecked){bj.find(".iconbox-checkbox__parent").show()}if(bi.ableDel){bj.find(".iconbox-delbtn__parent").show()}ab(bj,bi);bj.find(".iconbox-bg").show();bi.ableClickBox=true});bj.find(".iconbox-area").css({"left":bi.openBoxMarginLeft+"px","right":bi.openBoxMarginRight+"px","top":bi.openBoxMarginTop+"px","bottom":bi.openBoxMarginBottom+"px"}).animate({"left":"0px","right":"0px","top":"0px","bottom":"0px"});var bh=j(bj.attr("location"),bi.data,bi.locationObj);a0(bh,bi,true);bj.find(".iconbox-title").animate({"height":"0px","lineHeight":"0px","fontSize":"0px"},function(){aZ(this).css({"height":bi.closeBoxTitleHeight+"px","lineHeight":bi.closeBoxTitleHeight+"px","fontSize":bi.closeBoxTitleFontSize+"px","bottom":-bi.closeBoxTitleHeight+"px","position":"absolute"})});bj.find(".iconbox-a").animate({"width":bi.thumbnailWidth+"px","height":bi.thumbnailHeight+"px"})}function r(bh){return bh.outerHeight()<bh.get(0).scrollHeight}function am(bl){var bm=bl.siblings(".iconbox-scrollbar");if(r(bl)){var bh=bl.scrollTop();var bo=bl.get(0).scrollHeight;var bp=bl.outerHeight();var bi=20;var bj=bp-bi*2;var bk=Math.floor(bj/bo*bp);var bn=a4(bh,bp,bo);bm.css({"top":bn.top+"px","height":bn.height+"px"}).fadeIn()}else{bm.fadeOut()}}function af(bj,bi){for(var bh in bj){if(!bi||bh!=bi){delete bj[bh]}}}function ac(bh,bi){bh.click(function(bj){if(bi.ableEditTitle){bj.stopPropagation();aZ(this).siblings(".iconbox-icontitleinput").show().focus().select()}})}function aT(bl,bk,bj,bh){if(bl.hasClass("iconinbox")){var bi=bl.parents(".iconbox-area__container").scrollTop();return{left:bk+bh.currentPageIndex*bh.desktopWidth+bh.openBoxMarginLeft,top:bj+bh.openBoxMarginTop-bi}}else{return{left:bk,top:bj}}}function H(bh){var bi=s(bh.location);if(bi){bh.location=aG(-1,bi.row,bi.col);for(var bk=0;bk<bh.locations.length;bk++){var bj=bh.locations[bk];bi=s(bj);bh.locations[bk]=aG(-1,bi.row,bi.col)}}}function N(bi,bl,bj,bk){l(bj.children,bl);var bn=bk.locationBoxObj[bj.location];delete bn[bl.location];bk.data.push(bl);console.log(bk.data);
delete bl.location;var bh=bk.pages;ap(bk.data,bk);bl.$dom.appendTo(bi.parents(".icondesktop-slidebox"));al(bl.$dom,bl,bk,"set");bi.attr("location",bl.location);i(bj.children,bn,bk,true);aC(bj.$dom,bk);var bm=s(bl.location);p(bl.$dom,bh,bk.pages);bi.removeClass("iconinbox").addClass("icondesktopbox");bl.$dom.removeClass("iconinbox").addClass("icondesktopbox")}function x(bj,bk){for(var bi=0;bi<bj.length;bi++){var bh=bj[bi];if(bh===bk){return bi}}return -1}function l(bi,bj){var bh=x(bi,bj);if(bh!==-1){bi.splice(bh,1)}}function aJ(bi,bk,bj){var bl;var bm;if(bi){bl=bi.children;bm=bk.locationBoxObj[bi.location]}else{bl=bk.data;bm=bk.locationObj}if(!bl||!bl.length){return}if(bi){if(bj){i(bl,bm,bk,true);P(bl,bk,-1,function(){am(bk.openBox.$box.find(".iconbox-area__container"))})}else{am(bk.openBox.$box.find(".iconbox-area__container"))}}else{if(bj){var bh=bk.pages;ap(bl,bk,true);p(bl[0].$dom,bh,bk.pages);P(bl,bk,-1)}}}function aX(bh,bi){bh.click(function(bj){if(bi.ableEditTitle){bj.stopPropagation()}})}function v(bh,bj,bi){bh.off().click(function(bm){var bl=bh.parents(".iconbox");if(bl.size()){if(bl.hasClass("iconbox__open")){bh.find(".iconbox-icontitleinput").focus().blur();bi.openBoxIconClick(bj,bm)}}else{bh.find(".iconbox-icontitleinput").focus().blur();var bk=new Date().getTime();if(bk-bi.moveIconObj.finishTime>bi.moveIconObj.openPeriod){bi.openBoxIconClick(bj,bm)}}})}function ax(bi,bj,bh){bi.click(function(bn){bn.stopPropagation();if(aZ(this).hasClass("iconbox-checkbox__checked")){aS(aZ(this),0);if(bj.img){bj.checked=0;if(bh){var bk=0;for(var bm=0;bm<bh.children.length;bm++){var bl=bh.children[bm];if(bl.checked){bk++;break}}var bo=bi.parents(".iconbox").find(".iconbox-checkbox__parent");if(bk==0){aS(bo,0)}else{aS(bo,1)}}}else{for(var bm=0;bm<bj.children.length;bm++){var bl=bj.children[bm];bl.checked=0}bi.parents(".iconbox").find(".iconbox-checkbox__children").each(function(bp,bq){aS(aZ(this),0)})}}else{aS(aZ(this),2);bj.checked=2;if(bj.img){if(bh){var bk=0;for(var bm=0;bm<bh.children.length;bm++){var bl=bh.children[bm];if(bl.checked){bk++}}var bo=bi.parents(".iconbox").find(".iconbox-checkbox__parent");if(bk==bh.children.length){aS(bo,2)}else{aS(bo,1)}}}else{for(var bm=0;bm<bj.children.length;bm++){var bl=bj.children[bm];bl.checked=2}bi.parents(".iconbox").find(".iconbox-checkbox__children").each(function(bp,bq){aS(aZ(this),2)})}}})}function G(bh,bi){bh.click(function(bm){bm.stopPropagation();var bl=bh.parent();bd(bl,bi);var bk=bl.attr("location");if(bl.hasClass("icondesktopbox")){delete bi.locationObj[bk];bl.remove();aJ(null,bi,bi.desktopAutoFill)}else{var bj=j(bl.parents(".icondesktopbox").attr("location"),bi.data,bi.locationObj);delete bi.locationBoxObj[bj.location][bk];bl.remove();aJ(bj,bi,bi.desktopAutoFill)}})}function bc(bh,bi){bh.scroll(function(){var bk=bh.scrollTop();var bj=bh.outerHeight();var bl=bh.get(0).scrollHeight;var bm=a4(bk,bj,bl).top;bh.siblings(".iconbox-scrollbar").css({"top":bm+"px"})})}function a4(bk,bj,bm){var bh=20;var bn=bj-bh*2;var bi=Math.floor(bn/bm*bk);var bl=Math.floor(bn/bm*bj);return{top:bh+bi,height:bl}}function o(bh,bi){bh.click(function(bj){bi(bj)})}}));